<!doctype html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cardle</title>
    <script type="module" crossorigin src="/cardle-vanilla/assets/main-DKZymDTv.js"></script>
    <link rel="stylesheet" crossorigin href="/cardle-vanilla/assets/main-BG2iujUJ.css">
  </head>
  <body>
    <!-- 導覽列 -->
    <nav class="header-navbar navbar navbar-expand-md bg-gray-0 border-bottom border-primary-100 pe-0">
  <div class="container">
    <a href="/cardle-vanilla/index.html">
      <h2 class="logo">Cardle</h2>
    </a>
    <button
      class="navbar-toggler border-0 ms-auto"
      type="button"
      data-bs-toggle="offcanvas"
      data-bs-target="#headerNavbar"
      aria-controls="headerNavbar"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="offcanvas flex-row align-items-center justify-content-end">
      <ul class="navbar-nav gap-2">
        <li class="nav-item user-none">
          <a class="nav-link rounded-2 py-2 px-4 active" aria-current="page" href="/cardle-vanilla/index.html">首頁</a>
        </li>
        <li class="nav-item user-none">
          <a class="nav-link rounded-2 py-2 px-4" href="/cardle-vanilla/features.html">商品介紹</a>
        </li>
        <li class="nav-item user-none">
          <a class="nav-link rounded-2 py-2 px-4" href="/cardle-vanilla/subscription/detail.html">訂閱方案</a>
        </li>
        <li class="login-none user-none">
          <a class="btn btn-outline-primary" href="/cardle-vanilla/login.html">登入</a>
        </li>
        <li class="login-none user-none">
          <a class="btn btn-primary" href="/cardle-vanilla/sing-up.html">免費註冊</a>
        </li>
        <!-- 登入後 dropdown -->
        <li class="login-show">
          <div class="dropdown">
            <button
              class="nav-link py-1 px-4 rounded-2 d-flex align-items-center dropdown-toggle"
              type="button"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              <img class="header-avatar rounded-circle" src="/cardle-vanilla/assets/user-CWitcbLv.png" alt="個人頭像" />
              <span class="mx-2">Jennie</span>
              <span class="material-symbols-outlined"> keyboard_arrow_down </span>
            </button>
            <ul class="dropdown-shadow dropdown-menu border-primary-400 bg-gray-0">
              <li>
                <a class="dropdown-item rounded-2 mb-2" href="/cardle-vanilla/user/dashboard.html">筆記儀表板</a>
              </li>
              <li>
                <a class="dropdown-item rounded-2 mb-2" href="/cardle-vanilla/user/booklists.html">我的書單</a>
              </li>
              <li>
                <a class="dropdown-item rounded-2 mb-2" href="/cardle-vanilla/user/account.html">會員中心</a>
              </li>
              <li><a class="dropdown-item rounded-2" id="logout-btn" href="#">登出</a></li>
            </ul>
          </div>
        </li>
        <!-- 會員儀錶板 dropdown -->
        <li class="user-show">
          <div class="dropdown">
            <button
              class="nav-link py-1 px-4 rounded-2 d-flex align-items-center dropdown-toggle"
              type="button"
              data-bs-toggle="dropdown"
              aria-expanded="false"
            >
              <img class="header-avatar rounded-circle" src="/cardle-vanilla/assets/user-CWitcbLv.png" alt="個人頭像" />
              <span class="mx-2">Jennie</span>
              <span class="material-symbols-outlined"> keyboard_arrow_down </span>
            </button>
            <ul
              class="dropdown-shadow dropdown-menu border-primary-400 bg-gray-0 mt-4 flex-column"
              style="height: calc(100vh - 73px)"
            >
              <li>
                <a class="dropdown-item rounded-2 mb-2" href="/cardle-vanilla/user/booklists.html">我的書單</a>
              </li>
              <li>
                <a class="dropdown-item rounded-2 mb-2" href="/cardle-vanilla/user/dashboard.html">卡片盒一覽</a>
              </li>
              <li>
                <a class="dropdown-item rounded-2 mb-2" href="/cardle-vanilla/user/dashboard.html">關聯地圖</a>
              </li>
              <li class="border-bottom border-gray-200 mb-2">
                <a class="dropdown-item rounded-2 mb-2" href="/cardle-vanilla/user/dashboard.html">我的草稿</a>
              </li>
              <li>
                <a class="dropdown-item rounded-2 mb-2" href="/cardle-vanilla/user/dashboard.html">個人首頁</a>
              </li>
              <li>
                <a class="dropdown-item rounded-2 mb-2" href="/cardle-vanilla/user/account.html">會員中心</a>
              </li>
              <li>
                <a class="dropdown-item rounded-2 mb-2" href="/cardle-vanilla/user/account/plan-upgrade.html"
                  >升級方案</a
                >
              </li>
              <li class="mt-auto border-top border-gray-200">
                <a class="dropdown-item rounded-2 mt-2" id="logout-btn" href="#">登出</a>
              </li>
            </ul>
          </div>
        </li>
      </ul>
    </div>
    <!-- 登入後 mobile offcanvas 按鈕 -->
    <button
      class="login-show user-show both-state-md-none navbar-toggler p-0 border-0 rounded-circle focus-ring ms-4"
      type="button"
      data-bs-toggle="offcanvas"
      data-bs-target="#userNavbar"
      aria-controls="userNavbar"
      aria-label="Toggle navigation"
    >
      <img class="header-avatar rounded-circle" src="/cardle-vanilla/assets/user-CWitcbLv.png" alt="個人頭像" />
    </button>
  </div>
</nav>
<!-- 漢堡選單 mobile offcanvas -->
<div
  class="header-offcanvas offcanvas offcanvas-end bg-gray-0 d-md-none"
  tabindex="-1"
  id="headerNavbar"
  data-bs-scroll="true"
  data-bs-backdrop="true"
  aria-labelledby="headerNavbarLabel"
>
  <div class="offcanvas-body p-2 border border-primary-400">
    <ul class="navbar-nav me-auto mb-6">
      <li class="nav-item">
        <a class="nav-link rounded-2 py-3 px-4 active" aria-current="page" href="/cardle-vanilla/index.html">首頁</a>
      </li>
      <li class="nav-item">
        <a class="nav-link rounded-2 py-3 px-4" href="/cardle-vanilla/features.html">商品介紹</a>
      </li>
      <li class="nav-item">
        <a class="nav-link rounded-2 py-3 px-4" href="/cardle-vanilla/subscription/detail.html">訂閱方案</a>
      </li>
    </ul>
    <span class="login-none user-none border-bottom border-gray-200 mb-6 mx-2_5 d-block"></span>
    <div class="login-none user-none d-flex flex-column">
      <a class="btn btn-outline-primary text-start py-3 mb-2" href="/cardle-vanilla/login.html">登入</a>
      <a class="btn btn-primary text-start py-3" href="/cardle-vanilla/sing-up.html">免費註冊</a>
    </div>
  </div>
</div>
<!-- 登入後 mobile offcanvas -->
<div
  class="header-offcanvas offcanvas offcanvas-end bg-gray-0 d-md-none"
  tabindex="-1"
  id="userNavbar"
  data-bs-scroll="true"
  data-bs-backdrop="true"
  aria-labelledby="userNavbarLabel"
>
  <div class="offcanvas-body p-2 border border-primary-400">
    <ul class="navbar-nav me-auto mb-6">
      <li class="nav-item">
        <a class="nav-link text-primary rounded-2 py-3 px-4 mb-2" href="/cardle-vanilla/user/dashboard.html"
          >筆記儀表板</a
        >
      </li>
      <li class="nav-item">
        <a class="nav-link text-primary rounded-2 py-3 px-4 mb-2" href="/cardle-vanilla/user/booklists.html"
          >我的書單</a
        >
      </li>
      <li class="nav-item">
        <a class="nav-link text-primary rounded-2 py-3 px-4 mb-2" href="/cardle-vanilla/user/account.html">會員中心</a>
      </li>
      <li class="nav-item"><a class="nav-link text-primary rounded-2 py-3 px-4" id="logout-btn" href="#">登出</a></li>
    </ul>
  </div>
</div>

<script>
  const header = document.querySelector('.header-navbar');
  const headerOffcanvas = document.querySelector('.header-offcanvas');

  const toggleHeaderPosition = () => {
    if (window.scrollY > 0) {
      header.classList.add('position-fixed');
    } else {
      header.classList.remove('position-fixed');
    }
  };

  window.addEventListener('scroll', toggleHeaderPosition);

  const updateHeaderState = () => {
    const isLogin = Boolean(localStorage.getItem('isLogin'));
    const path = window.location.pathname;

    if (path.includes('user')) {
      header.classList.add('user-state');
      headerOffcanvas.classList.add('user-state');
    } else {
      if (isLogin) {
        header.classList.add('login-state');
        headerOffcanvas.classList.add('login-state');
      }
    }
  };
  // 初始化
  updateHeaderState();

  const logoutBtns = document.querySelectorAll('#logout-btn');

  logoutBtns.forEach((btn) => {
    btn.addEventListener('click', (event) => {
      event.preventDefault();
      localStorage.removeItem('isLogin');
      window.location.href = '/cardle-vanilla/index.html';
      updateHeaderState();
    });
  });
</script>
    <h1>個人筆記儀表板</h1>

  </body>
</html>
