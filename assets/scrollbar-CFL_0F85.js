import{e as j,c as $,g as I,m as N,r as u,h as B,f as G}from"./swiper-core-Clt7VEzq.js";function U(d,l,g,i){return d.params.createElements&&Object.keys(i).forEach(c=>{if(!g[c]&&g.auto===!0){let p=j(d.el,`.${i[c]}`)[0];p||(p=$("div",i[c]),p.className=i[c],d.el.append(p)),g[c]=p,l[c]=p}}),g}function V(d){return d===void 0&&(d=""),`.${d.trim().replace(/([\.:!+\/()[\]])/g,"\\$1").replace(/ /g,".")}`}function X(d){let{swiper:l,extendParams:g,on:i,emit:c}=d;const p=I();let y=!1,T=null,D=null,C,n,b,z;g({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),l.scrollbar={el:null,dragEl:null};function v(){if(!l.params.scrollbar.el||!l.scrollbar.el)return;const{scrollbar:s,rtlTranslate:r}=l,{dragEl:e,el:a}=s,t=l.params.scrollbar,f=l.params.loop?l.progressLoop:l.progress;let m=n,o=(b-n)*f;r?(o=-o,o>0?(m=n-o,o=0):-o+n>b&&(m=b+o)):o<0?(m=n+o,o=0):o+n>b&&(m=b-o),l.isHorizontal()?(e.style.transform=`translate3d(${o}px, 0, 0)`,e.style.width=`${m}px`):(e.style.transform=`translate3d(0px, ${o}px, 0)`,e.style.height=`${m}px`),t.hide&&(clearTimeout(T),a.style.opacity=1,T=setTimeout(()=>{a.style.opacity=0,a.style.transitionDuration="400ms"},1e3))}function O(s){!l.params.scrollbar.el||!l.scrollbar.el||(l.scrollbar.dragEl.style.transitionDuration=`${s}ms`)}function h(){if(!l.params.scrollbar.el||!l.scrollbar.el)return;const{scrollbar:s}=l,{dragEl:r,el:e}=s;r.style.width="",r.style.height="",b=l.isHorizontal()?e.offsetWidth:e.offsetHeight,z=l.size/(l.virtualSize+l.params.slidesOffsetBefore-(l.params.centeredSlides?l.snapGrid[0]:0)),l.params.scrollbar.dragSize==="auto"?n=b*z:n=parseInt(l.params.scrollbar.dragSize,10),l.isHorizontal()?r.style.width=`${n}px`:r.style.height=`${n}px`,z>=1?e.style.display="none":e.style.display="",l.params.scrollbar.hide&&(e.style.opacity=0),l.params.watchOverflow&&l.enabled&&s.el.classList[l.isLocked?"add":"remove"](l.params.scrollbar.lockClass)}function w(s){return l.isHorizontal()?s.clientX:s.clientY}function L(s){const{scrollbar:r,rtlTranslate:e}=l,{el:a}=r;let t;t=(w(s)-G(a)[l.isHorizontal()?"left":"top"]-(C!==null?C:n/2))/(b-n),t=Math.max(Math.min(t,1),0),e&&(t=1-t);const f=l.minTranslate()+(l.maxTranslate()-l.minTranslate())*t;l.updateProgress(f),l.setTranslate(f),l.updateActiveIndex(),l.updateSlidesClasses()}function M(s){const r=l.params.scrollbar,{scrollbar:e,wrapperEl:a}=l,{el:t,dragEl:f}=e;y=!0,C=s.target===f?w(s)-s.target.getBoundingClientRect()[l.isHorizontal()?"left":"top"]:null,s.preventDefault(),s.stopPropagation(),a.style.transitionDuration="100ms",f.style.transitionDuration="100ms",L(s),clearTimeout(D),t.style.transitionDuration="0ms",r.hide&&(t.style.opacity=1),l.params.cssMode&&(l.wrapperEl.style["scroll-snap-type"]="none"),c("scrollbarDragStart",s)}function q(s){const{scrollbar:r,wrapperEl:e}=l,{el:a,dragEl:t}=r;y&&(s.preventDefault&&s.cancelable?s.preventDefault():s.returnValue=!1,L(s),e.style.transitionDuration="0ms",a.style.transitionDuration="0ms",t.style.transitionDuration="0ms",c("scrollbarDragMove",s))}function P(s){const r=l.params.scrollbar,{scrollbar:e,wrapperEl:a}=l,{el:t}=e;y&&(y=!1,l.params.cssMode&&(l.wrapperEl.style["scroll-snap-type"]="",a.style.transitionDuration=""),r.hide&&(clearTimeout(D),D=B(()=>{t.style.opacity=0,t.style.transitionDuration="400ms"},1e3)),c("scrollbarDragEnd",s),r.snapOnRelease&&l.slideToClosest())}function x(s){const{scrollbar:r,params:e}=l,a=r.el;if(!a)return;const t=a,f=e.passiveListeners?{passive:!1,capture:!1}:!1,m=e.passiveListeners?{passive:!0,capture:!1}:!1;if(!t)return;const o=s==="on"?"addEventListener":"removeEventListener";t[o]("pointerdown",M,f),p[o]("pointermove",q,f),p[o]("pointerup",P,m)}function k(){!l.params.scrollbar.el||!l.scrollbar.el||x("on")}function A(){!l.params.scrollbar.el||!l.scrollbar.el||x("off")}function E(){const{scrollbar:s,el:r}=l;l.params.scrollbar=U(l,l.originalParams.scrollbar,l.params.scrollbar,{el:"swiper-scrollbar"});const e=l.params.scrollbar;if(!e.el)return;let a;if(typeof e.el=="string"&&l.isElement&&(a=l.el.querySelector(e.el)),!a&&typeof e.el=="string"){if(a=p.querySelectorAll(e.el),!a.length)return}else a||(a=e.el);l.params.uniqueNavElements&&typeof e.el=="string"&&a.length>1&&r.querySelectorAll(e.el).length===1&&(a=r.querySelector(e.el)),a.length>0&&(a=a[0]),a.classList.add(l.isHorizontal()?e.horizontalClass:e.verticalClass);let t;a&&(t=a.querySelector(V(l.params.scrollbar.dragClass)),t||(t=$("div",l.params.scrollbar.dragClass),a.append(t))),Object.assign(s,{el:a,dragEl:t}),e.draggable&&k(),a&&a.classList[l.enabled?"remove":"add"](...u(l.params.scrollbar.lockClass))}function S(){const s=l.params.scrollbar,r=l.scrollbar.el;r&&r.classList.remove(...u(l.isHorizontal()?s.horizontalClass:s.verticalClass)),A()}i("changeDirection",()=>{if(!l.scrollbar||!l.scrollbar.el)return;const s=l.params.scrollbar;let{el:r}=l.scrollbar;r=N(r),r.forEach(e=>{e.classList.remove(s.horizontalClass,s.verticalClass),e.classList.add(l.isHorizontal()?s.horizontalClass:s.verticalClass)})}),i("init",()=>{l.params.scrollbar.enabled===!1?H():(E(),h(),v())}),i("update resize observerUpdate lock unlock changeDirection",()=>{h()}),i("setTranslate",()=>{v()}),i("setTransition",(s,r)=>{O(r)}),i("enable disable",()=>{const{el:s}=l.scrollbar;s&&s.classList[l.enabled?"remove":"add"](...u(l.params.scrollbar.lockClass))}),i("destroy",()=>{S()});const R=()=>{l.el.classList.remove(...u(l.params.scrollbar.scrollbarDisabledClass)),l.scrollbar.el&&l.scrollbar.el.classList.remove(...u(l.params.scrollbar.scrollbarDisabledClass)),E(),h(),v()},H=()=>{l.el.classList.add(...u(l.params.scrollbar.scrollbarDisabledClass)),l.scrollbar.el&&l.scrollbar.el.classList.add(...u(l.params.scrollbar.scrollbarDisabledClass)),S()};Object.assign(l.scrollbar,{enable:R,disable:H,updateSize:h,setTranslate:v,init:E,destroy:S})}export{X as S,V as a,U as c};
